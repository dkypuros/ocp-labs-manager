# Default values for app-deployment.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

namespace: att-demo
namespace_qa: att-qa
application_tag: latest
application_name: spring-rest-demo

replicaCount: 1

triggers:
    config: false
    image: true
 
## Create a route so the application can be access from outside the OCP cluster?
createRoute: true
## Hostname of the OpenShift route. If left blank, a hostname will be automatically generated in the form <release-name>-<namespace>.<suffix>
routeHostname: ""

## DeploymentConfig update strategy. (Rolling | Recreate)
updateStrategy: Rolling
## Application resource requests and limits
resources:
  requests:
    memory: 512Mi
    cpu: 100m
  limits:
    memory: 1Gi
    cpu: 300m
## Number of pods to deploy
replicas: 1

## Password for node-to-node EAP cluster authentication
jgroupsClusterPassword: testpass


tls:
  ## Should JGroups and end-to-end client communication be encrypted?
  ## If "true", requires a keystore for JGroups and a keystore for HTTPS
  ## If "true", creates a passthrough route. If "false", creates an edge-terminated route.
  enabled: false

  ## Name of the secret that contains the jgroups keystore
  jgroupsEncryptSecret: jgroups-keystore
  ## Name of the jgroups keystore file
  jgroupsEncryptKeystore: jgroups.jceks
  ## Name of the jgroups keystore
  jgroupsEncryptName: jgroups
  ## Password to the jgroups keystore
  jgroupsEncryptPassword: changeit

  httpsSecret: https-keystore
  ## Name of the https keystore file
  httpsKeystore: keystore.jks
  ## Name of the https keystore
  httpsName: https
  ## Password to the https keystore
  httpsPassword: changeit

probes:
  livenessProbe:
    exec:
      command:
      - /bin/bash
      - -c
      - /opt/eap/bin/livenessProbe.sh
      initialDelaySeconds: 90
    timeoutSeconds: 10

build:
  deploy: false
  namespace: labs-cicd
  image_stream_namespace: openshift
  image_stream_name: openjdk-11-rhel8:1.0

pipeline:
  deploy: false
  name: maven-build-image-pipeline
  namespace: att-pipelines
  namespace_tools: cicd-tools
  service_account: att-pipelines-sa
  source_repo: https://github.com/malacourse/spring-rest.git
  source_ref: master
  source_context_dir: basic-spring-boot



